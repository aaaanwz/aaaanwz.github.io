<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>小ネタ on A4 tech note</title>
    <link>https://aaaanwz.github.io/categories/%E5%B0%8F%E3%83%8D%E3%82%BF/</link>
    <description>Recent content in 小ネタ on A4 tech note</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>ja</language>
    <lastBuildDate>Sun, 21 Nov 2021 00:00:00 +0000</lastBuildDate><atom:link href="https://aaaanwz.github.io/categories/%E5%B0%8F%E3%83%8D%E3%82%BF/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Ubuntu desktop初期設定メモ</title>
      <link>https://aaaanwz.github.io/post/2021/ubuntu-desktop-config/</link>
      <pubDate>Sun, 21 Nov 2021 00:00:00 +0000</pubDate>
      
      <guid>https://aaaanwz.github.io/post/2021/ubuntu-desktop-config/</guid>
      <description>M1 Macに移行する気になれなかったのでメインマシンをx86 + Ubuntu Desktop 20.04にしました。
GPUドライバのインストール 1  $ sudo ubuntu-drivers autoinstall   IME切り替えショートカットを Ctrl + Space に設定  設定 &amp;gt; 地域と言語 &amp;gt; 入力ソース で入力ソースを 日本語(Mozc) のみにする Mozcプロパティ &amp;gt; キー設定 &amp;gt; 編集　で 入力キーがCtrl Spaceのエントリーを削除し、以下のように設定  CapsLockをCtrlに変更 1 2 3  $ sudo vi /etc/default/keyboard ... XKBOPTIONS=&amp;#34;ctrl:nocaps&amp;#34;   Chromeをダークモード化 1 2 3  $ sudo vi /opt/google/chrome/google-chrome ... exec -a &amp;#34;$0&amp;#34; &amp;#34;$HERE/chrome&amp;#34; &amp;#34;--enable-features=WebUIDarkMode&amp;#34; &amp;#34;--force-dark-mode&amp;#34; &amp;#34;$@&amp;#34;   日本語ディレクトリを変更 1 2 3 4 5 6 7 8 9 10  $ sudo vi .</description>
    </item>
    
    <item>
      <title>kubectl logsに任意のログを表示する</title>
      <link>https://aaaanwz.github.io/post/2021/kubectl-logs/</link>
      <pubDate>Wed, 08 Sep 2021 00:00:00 +0000</pubDate>
      
      <guid>https://aaaanwz.github.io/post/2021/kubectl-logs/</guid>
      <description>kubectl logsはPID1の標準出力を表示するため、直接書き込んでしまえばなんでも表示できる。
1 2 3  $ kubectl exec -it pod-xxx bash # echo &amp;#39;show as stdin&amp;#39; &amp;gt; /proc/1/fd/1 # echo &amp;#39;show as stderr&amp;#39; &amp;gt; /proc/1/fd/2   1 2 3 4  $ kubectl logs pod-xxx show as stdin show as stderr   </description>
    </item>
    
    <item>
      <title>VSCode Remote ContainerからGitHubにssh接続する</title>
      <link>https://aaaanwz.github.io/post/2021/vscode-remote-container-ssh/</link>
      <pubDate>Thu, 02 Sep 2021 00:00:00 +0000</pubDate>
      
      <guid>https://aaaanwz.github.io/post/2021/vscode-remote-container-ssh/</guid>
      <description>公式ドキュメントの Sharing Git credentials with your containerに色々と記載があるが、非常に簡単なソリューションがあったためメモ
Mac 1 2 3 4 5  $ sudo vi ~/.ssh/config Host github.com AddKeysToAgent yes UseKeychain yes   Windows 1 2 3  &amp;gt; Set-Service ssh-agent -StartupType Automatic &amp;gt; Start-Service ssh-agent &amp;gt; ssh-add $HOME/.ssh/id_rsa   </description>
    </item>
    
    <item>
      <title>KubernetesのCronJobからJobを手動作成する</title>
      <link>https://aaaanwz.github.io/post/2020/k8s-cron-rerun/</link>
      <pubDate>Mon, 30 Nov 2020 00:00:00 +0000</pubDate>
      
      <guid>https://aaaanwz.github.io/post/2020/k8s-cron-rerun/</guid>
      <description>1  kubectl create job 作成するJob名 --from=cronjob/CronJob名   https://kubernetes.io/docs/reference/generated/kubectl/kubectl-commands#-em-job-em-</description>
    </item>
    
    <item>
      <title>GCPでカスタムロールをサービスアカウントにbindingしようとしてエラーになる場合</title>
      <link>https://aaaanwz.github.io/post/2020/gcp-serviceaccount-error/</link>
      <pubDate>Tue, 03 Mar 2020 00:00:00 +0000</pubDate>
      
      <guid>https://aaaanwz.github.io/post/2020/gcp-serviceaccount-error/</guid>
      <description>1 2 3 4  $ gcloud projects add-iam-policy-binding myproject --member=serviceAccount:myserviceaccount@myproject.iam.gserviceaccount.com --role=&amp;#39;roles/mycustomrole&amp;#39; ERROR: Policy modification failed. For a binding with condition, run &amp;#34;gcloud alpha iam policies lint-condition&amp;#34; to identify issues in condition. ERROR: (gcloud.projects.add-iam-policy-binding) INVALID_ARGUMENT: Role roles/mycustomrole is not supported for this resource.   --role の指定を roles/mycustomrole ではなく projects/myproject/roles/mycustomroleにすればOK
1 2 3  $ gcloud projects add-iam-policy-binding myproject --member=serviceAccount:myserviceaccuont@myproject.iam.gserviceaccount.com --role=&amp;#39;projects/myproject/roles/mycustomrole&amp;#39; Updated IAM policy for project [myproject].   </description>
    </item>
    
    <item>
      <title>BigQueryで重複レコードを削除するSQL</title>
      <link>https://aaaanwz.github.io/post/2020/bigquery-deduplication/</link>
      <pubDate>Wed, 05 Feb 2020 00:00:00 +0000</pubDate>
      
      <guid>https://aaaanwz.github.io/post/2020/bigquery-deduplication/</guid>
      <description>オペミスやat-least-onceセマンティクスによってINSERTされてしまった重複レコードを消すSQLです。
完全に同一な重複レコードを消す やる事は
 重複レコードのうち最古のものを一時テーブルに退避 重複レコードを全て削除 一時テーブルから再度INSERT です。  Schema
1 2 3 4 5 6 7 8 9 10 11 12  [ { &amp;#34;mode&amp;#34;: &amp;#34;REQUIRED&amp;#34;, &amp;#34;name&amp;#34;: &amp;#34;id&amp;#34;, &amp;#34;type&amp;#34;: &amp;#34;INTEGER&amp;#34; }, { &amp;#34;mode&amp;#34;: &amp;#34;NULLABLE&amp;#34;, &amp;#34;name&amp;#34;: &amp;#34;value&amp;#34;, &amp;#34;type&amp;#34;: &amp;#34;STRING&amp;#34; } ]   1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39  CREATE TABLE project_name.</description>
    </item>
    
    <item>
      <title>CircleCIでDeploy Keyを用いて別のprivate repoをcloneする</title>
      <link>https://aaaanwz.github.io/post/2019/circleci-deploy-key/</link>
      <pubDate>Thu, 28 Nov 2019 00:00:00 +0000</pubDate>
      
      <guid>https://aaaanwz.github.io/post/2019/circleci-deploy-key/</guid>
      <description> ssh-keygenコマンドで公開鍵/秘密鍵を生成する 公開鍵(id_rsa.pub)をGitHubのDeploy keyに登録する 秘密鍵(id_rsa)をCircleCIに登録する 3.のfingerprintを↓にコピー  1 2 3 4 5 6 7 8 9 10 11 12 13 14 15  version: 2.1 jobs: do-something-with-another-repository: docker: - image: circleci/golang:1.11-stretch steps: - add_ssh_keys: fingerprints: - &amp;#34;aa:bb:cc:dd:ee:ff:gg:hh:ii:jj:kk:ll:mm:nn:oo:pp&amp;#34; - run: GIT_SSH_COMMAND=&amp;#34;ssh -o StrictHostKeyChecking=no&amp;#34; git clone git@github.com:aaaanwz/another-repository.git - run: echo &amp;#39;Do something&amp;#39; workflows: test: jobs: - do-something-with-another-repository   </description>
    </item>
    
  </channel>
</rss>
